<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>first blog about &#39;模块加载&#39; | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. 模块的整体">
<meta property="og:type" content="article">
<meta property="og:title" content="first blog about &#39;模块加载&#39;">
<meta property="og:url" content="http://yoursite.com/2019/01/12/first_blog/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. 模块的整体">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-01-12T12:43:38.105Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="first blog about &#39;模块加载&#39;">
<meta name="twitter:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. 模块的整体">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-first_blog" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/12/first_blog/" class="article-date">
  <time datetime="2019-01-12T00:57:19.309Z" itemprop="datePublished">2019-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      first blog about &#39;模块加载&#39;
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h1 id="模块的整体加载"><a href="#模块的整体加载" class="headerlink" title="模块的整体加载"></a>模块的整体加载</h1><p>毕业后进了公司8个月了，每天说的好好刷技术博客，看技术含量高的项目最后都被一天的上班心累加上身体劳累淹没。今天终于鼓起勇气写来一篇自己的小博客，虽然很菜，还是有点小激动~进来看了阮一峰老师的Es6入门，在这里记录下模块的加载方法~</p>
<h2 id="export命令"><a href="#export命令" class="headerlink" title="export命令"></a>export命令</h2><p>我们公司用的react组件全是ES6语法。模块功能有两个命令构成：export和import,前者是对外接口，后者是输入其他模块，一个模块就是独立的文件，该文件内部所有的变量，外部无法获取，如果希望外部能够读取到这个变量，可以使用关键字export.如下JS文件，里面const输出变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Profile.js</span><br><span class="line">export const firstName = &apos;Michael&apos;;</span><br><span class="line">export const lastName = &apos;jack&apos;;</span><br><span class="line">export const year = &apos;1958&apos;;</span><br></pre></td></tr></table></figure></p>
<p>以上是profile.js文件，ES6将其视为一个模块，export命令对外输出了三个变量。<br>还有一种写法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const firstName = &apos;Michael&apos;;</span><br><span class="line">const lastName = &apos;jack&apos;;</span><br><span class="line">const year = &apos;1958&apos;;</span><br><span class="line">export &#123;firstName,lastName,year&#125;</span><br></pre></td></tr></table></figure></p>
<p>最上面一种写法可以优先考虑，这样可以看到优先输出哪些变量。<br>export命令除了可以输出变量 还可以输出类和函数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export function multiply(x,y) &#123;</span><br><span class="line">return x*y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>通常export输出的变量是本来的名字，也可以用as关键字重命名。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function v1() &#123;...&#125;</span><br><span class="line">function v2() &#123;...&#125;</span><br><span class="line">export &#123;</span><br><span class="line">v1 as streamv1,</span><br><span class="line">v2 as streamv2,</span><br><span class="line">v2 as streamv3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码使用了as关键字，重命名了v1v2的对外接口，重命名后v2可以用不同的名字输出2次。<br>如下写法错误和正确的对比<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//error</span><br><span class="line">function f() &#123;&#125;</span><br><span class="line">export f;</span><br><span class="line">// correct</span><br><span class="line">export function f() &#123;&#125;</span><br><span class="line">//correct</span><br><span class="line">function f() &#123;&#125;</span><br><span class="line">export &#123;f&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="import命令"><a href="#import命令" class="headerlink" title="import命令"></a>import命令</h2><p>使用export命令定义了模块的对外接口后，其他JS文件可以通过import命令加载这个模块~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//main.js</span><br><span class="line">import &#123;firstName,lastName,year&#125; from &apos;./profile.js&apos;;</span><br><span class="line">function setName(element) &#123;</span><br><span class="line">  element.textContent = firstName + &apos; &apos; + lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的import命令，用于加载整个profile.js文件，并从中输出变量，import命令接受一对大括号，里面指定从其他模块导入的变量名，大括号里面的变量名，必须与被导入模块对外接口的名称相同。<br>如果想为输入的变量重新取一个名字，import命令要使用as关键字，将输入的变量重命名。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123;lastName as surName&#125; from &apos;./profile.js&apos;;</span><br></pre></td></tr></table></figure></p>
<p>import 命令输入的变量都是只读的，因为他的本 质是输入接口，所以不允许在当前加载模块的脚本里面改写接口。<br>import后面的from指定模块文件的位置，可以是相对路径也可以绝对路径，后缀名可省略，如果是模块名，不带有路径，就必须有配置文件，告诉引擎怎么取到这个模块</p>
<h2 id="模块的整体加载-1"><a href="#模块的整体加载-1" class="headerlink" title="模块的整体加载"></a>模块的整体加载</h2><p> 除了指定加载某个输出值，还可以使用整体加载，即用*指定一个对象，所有输出值都加载这个对象里面，下面是一个circle.js文件，她输出2个方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//circle.js</span><br><span class="line">export function area(radius) &#123;</span><br><span class="line">  return Math.PI * radius * radius;</span><br><span class="line">&#125;</span><br><span class="line">export funtion circum(radius) &#123;</span><br><span class="line">   return 2*Math.PI* radius;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在在main.js中加载这个模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123;area,circum&#125; from &apos;./circle&apos;</span><br><span class="line">console.log(&apos;圆面积&apos;,area(4))</span><br><span class="line">console.log(&apos;圆周长&apos;,circum(4))</span><br></pre></td></tr></table></figure></p>
<p>上面写法是逐一指定要加载的方法，整体加载的方法如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import * as circle from &apos;./circle&apos;;</span><br><span class="line">console.log(&apos;圆面积&apos;，circle.area(4))</span><br><span class="line">console.log(&apos;圆周长&apos;,circle.circum(4))</span><br></pre></td></tr></table></figure></p>
<h2 id="export-default-命令"><a href="#export-default-命令" class="headerlink" title="export default 命令"></a>export default 命令</h2><p>在使用import命令的时候，用户需要知道所要加载的变量名和函数名，否则无法加载。看一个js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//export-default.js</span><br><span class="line">export dedault function() &#123;</span><br><span class="line">  console.log(&apos;foo&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码是一个模块文件export-default.js,他的默认输出是一个函数，其他模块加载该模块时，import命令可以为匿名函数指定任意名字。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//import-default.js</span><br><span class="line">import customName from &apos;./export-default&apos;;</span><br><span class="line">customName();  // &apos;foo&apos;</span><br></pre></td></tr></table></figure></p>
<p>上面代码的import命令，可以用任意名称指向export-default.js输出的方法，这时就不需要原模块输出的函数名，需要注意的是，这时import命令后面，不使用大括号，export default命令在非匿名函数前，也是可以的。即使赋予函数名，加载的时候视同匿名函数加载。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export default function crc32() &#123;&#125;</span><br><span class="line">import crc32 from &apos;crc32&apos;;</span><br><span class="line">export function crc32() &#123;&#125;</span><br><span class="line">import &#123;crc32&#125; from &apos;crc32&apos;</span><br></pre></td></tr></table></figure></p>
<p>export default命令的本质就是将后面的值赋给default变量，可以将一个值写在export之后。</p>
<h2 id="跨模块常量"><a href="#跨模块常量" class="headerlink" title="跨模块常量"></a>跨模块常量</h2><p> const声明的常量只在当前代码快有效，如果想设置跨模块的常量，可以采用下面写法。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//constants.js模块</span><br><span class="line">export const A = 1;</span><br><span class="line">export const B = 3;</span><br><span class="line">export const C = 4;</span><br><span class="line">//test1.js模块</span><br><span class="line">import * as constants from &apos;./constants&apos;;</span><br><span class="line">console.log(constants.A);</span><br><span class="line">console.log(constants.B);</span><br><span class="line">//test2.js模块</span><br><span class="line">import &#123;A,B&#125; from &apos;./constants&apos;;</span><br><span class="line">console.log(A);</span><br><span class="line">console.log(B)</span><br></pre></td></tr></table></figure></p>
<h4 id="完结"><a href="#完结" class="headerlink" title="完结"></a>完结</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/12/first_blog/" data-id="cjqti2ycb00009cuswrkntopu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/12/12/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/12/first_blog/">first blog about &#39;模块加载&#39;</a>
          </li>
        
          <li>
            <a href="/2018/12/12/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Cassie Wang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>